import{_ as a,c as e,o as n,e as s}from"./app-Ddle1Boe.js";const l={},i=s(`<h1 id="安裝-部署" tabindex="-1"><a class="header-anchor" href="#安裝-部署"><span>安裝&amp;部署</span></a></h1><blockquote><p>使用 Docker 的人可直接跳至第 5 步</p></blockquote><h2 id="_1-複製存儲庫" tabindex="-1"><a class="header-anchor" href="#_1-複製存儲庫"><span>1. 複製存儲庫:</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/your-repo/line-pdf-bot.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-安裝伺服器依賴" tabindex="-1"><a class="header-anchor" href="#_2-安裝伺服器依賴"><span>2. 安裝伺服器依賴:</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ChatPDF-LineBot
pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>可考慮在虛擬環境中執行，這裡提供 Python 內建的虛擬環境指令:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ChatPDF-LineBot
python <span class="token parameter variable">-m</span> venv .<span class="token punctuation">\\</span>venv
.<span class="token punctuation">\\</span>venv<span class="token punctuation">\\</span>Scripts<span class="token punctuation">\\</span>activate
pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-安裝-node-依賴" tabindex="-1"><a class="header-anchor" href="#_3-安裝-node-依賴"><span>3. 安裝 Node 依賴:</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ChatPDF-LineBot/View
npn <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-build-前端網頁" tabindex="-1"><a class="header-anchor" href="#_4-build-前端網頁"><span>4. Build 前端網頁</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> View
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-登入-line-平台" tabindex="-1"><a class="header-anchor" href="#_5-登入-line-平台"><span>5. 登入 LINE 平台</span></a></h2><ul><li>創建 Line Bot。 <ul><li>新增一個提供者（Provider），例如「My Provider」。</li><li>在「My Provider」新增一個類型為「Messaging API」的頻道（Channel），例如「My AI Assistant」。</li><li>進到「My AI Assistant」頻道頁面，點選「Messaging API」頁籤，生成一個頻道的 channel access token。</li></ul></li><li>創建 LIFF 網頁。 <ul><li>在與「Messaging API」同一個 <code>Provider</code> 內(例如:「My Provider」)新增一個類型為「Line Login」的頻道（Channel），例如「My LIFF Page」。</li><li>進到「My LIFF Page」頻道頁面，點選「LIFF」頁籤，創建一個新的 LIFF 網頁。</li><li><code>Endpoint URL</code> 填入 <code>https://&lt;你的網域或IP地址&gt;/liff</code>(可先隨便填後續再來改)。</li><li><code>Scopes</code> 選項請勾選「chat_message.write」、「openid」。</li><li>點選 <code>Add</code> 創建。</li></ul></li></ul><h2 id="_6-登入-openai、groq-平台-或其他平台" tabindex="-1"><a class="header-anchor" href="#_6-登入-openai、groq-平台-或其他平台"><span>6. 登入 OpenAI、Groq 平台(或其他平台)</span></a></h2><ul><li>生成一個 OpenAI 的 API key。</li><li>也可以生成其他平台的API Key(例如 Groq)，只是該平台的 API 必須與 OpenAI 兼容，且要記得在下一步改<code>BASE_URL</code></li></ul><h2 id="_7-設定環境變數" tabindex="-1"><a class="header-anchor" href="#_7-設定環境變數"><span>7. 設定環境變數</span></a></h2><p>伺服器或 Docker 可直接設定環境變數</p><p>自己電腦上跑的話可複製 <code>.env.example</code> 文件，並改名為 <code>.env</code>，接著設定 API Key、模型等參數。</p><p>詳見 <code>環境變數列表</code> <code>*</code></p><h2 id="_8-運行伺服器" tabindex="-1"><a class="header-anchor" href="#_8-運行伺服器"><span>8. 運行伺服器</span></a></h2><h3 id="使用-docker" tabindex="-1"><a class="header-anchor" href="#使用-docker"><span>使用 Docker</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">--name</span> chatpdf-linebot <span class="token punctuation">\\</span>
<span class="token parameter variable">-p</span> <span class="token number">8000</span>:8000 <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /local/file/store/path:/app/db
<span class="token parameter variable">-e</span> <span class="token assign-left variable">LINE_CHANNEL_ACCESS_TOKEN</span><span class="token operator">=</span>YOUR_LINE_CHANNEL_ACCESS_TOKEN <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">LINE_CHANNEL_SECRET</span><span class="token operator">=</span>YOUR_LINE_CHANNEL_SECRET <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">LINE_LIFF_ID</span><span class="token operator">=</span>YOUR_LINE_LIFF_ID <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">LINE_LOGIN_CHANNEL_ID</span><span class="token operator">=</span>YOUR_LINE_LOGIN_CHANNEL_ID <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">MODEL_NAME</span><span class="token operator">=</span>YOUR_MODELS <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">BASE_URL</span><span class="token operator">=</span>BASE_URLS <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">API_KEY</span><span class="token operator">=</span>API_KEYS <span class="token punctuation">\\</span>
adt109119/chatpdf-linebot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="本機直接運行" tabindex="-1"><a class="header-anchor" href="#本機直接運行"><span>本機直接運行</span></a></h3><p>若 1. ~ 4. 步的安裝接無問題，僅需直接執行一以下指令便可開啟伺服器</p><p>預設使用 <code>PORT</code> <code>8000</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>python .<span class="token punctuation">\\</span>main.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_9-回到-line-設定" tabindex="-1"><a class="header-anchor" href="#_9-回到-line-設定"><span>9. 回到 LINE 設定</span></a></h2><ul><li><p>Line Bot 設定</p><ul><li>進到「My AI Assistant」頻道頁面，點選「Messaging API」頁籤，設置「Webhook URL」，填入應用程式網址並加上「/callback」路徑，例如 <code>https://line.the-walking.fish.com/callback</code>，點選「Update」按鈕。</li><li>點選「Verify」按鈕，驗證是否呼叫成功。</li><li>將「Use webhook」功能開啟。</li><li>將「Auto-reply messages」功能關閉。</li><li>將「Greeting messages」功能關閉。</li></ul></li><li><p>Line LIFF 網頁設定</p><ul><li>進到「LIFF」頁籤</li><li>若原本<code>Endpoint URL</code> 隨便填的，現在請正式填入 LIFF 網頁網址，路徑為「/liff」，例如 <code>https://line.the-walking.fish.com/liff</code>。</li><li>回到「LIFF」頁籤，複製「LIFF URL」</li></ul></li><li><p>圖文選單設定</p><ul><li>進到「LINE Official Account Manager」</li><li>在側邊欄找到「圖文選單」</li><li>點選「建立」</li><li>名稱、版型等可照自己的喜好填寫</li><li>在「動作」選擇「連結」，並填入上一部複製的 LIFF URL</li><li>按「儲存」</li></ul></li></ul>`,29),t=[i];function c(d,p){return n(),e("div",null,t)}const r=a(l,[["render",c],["__file","installation.html.vue"]]),u=JSON.parse('{"path":"/installation.html","title":"安裝&部署","lang":"zh-TW","frontmatter":{"title":"安裝&部署","lang":"zh-TW","description":"text"},"headers":[{"level":2,"title":"1. 複製存儲庫:","slug":"_1-複製存儲庫","link":"#_1-複製存儲庫","children":[]},{"level":2,"title":"2. 安裝伺服器依賴:","slug":"_2-安裝伺服器依賴","link":"#_2-安裝伺服器依賴","children":[]},{"level":2,"title":"3. 安裝 Node 依賴:","slug":"_3-安裝-node-依賴","link":"#_3-安裝-node-依賴","children":[]},{"level":2,"title":"4. Build 前端網頁","slug":"_4-build-前端網頁","link":"#_4-build-前端網頁","children":[]},{"level":2,"title":"5. 登入 LINE 平台","slug":"_5-登入-line-平台","link":"#_5-登入-line-平台","children":[]},{"level":2,"title":"6. 登入 OpenAI、Groq 平台(或其他平台)","slug":"_6-登入-openai、groq-平台-或其他平台","link":"#_6-登入-openai、groq-平台-或其他平台","children":[]},{"level":2,"title":"7. 設定環境變數","slug":"_7-設定環境變數","link":"#_7-設定環境變數","children":[]},{"level":2,"title":"8. 運行伺服器","slug":"_8-運行伺服器","link":"#_8-運行伺服器","children":[{"level":3,"title":"使用 Docker","slug":"使用-docker","link":"#使用-docker","children":[]},{"level":3,"title":"本機直接運行","slug":"本機直接運行","link":"#本機直接運行","children":[]}]},{"level":2,"title":"9. 回到 LINE 設定","slug":"_9-回到-line-設定","link":"#_9-回到-line-設定","children":[]}],"git":{"updatedTime":1716736211000,"contributors":[{"name":"ADT109119","email":"2.jerry32262686@gmail.com","commits":1}]},"filePathRelative":"installation.md"}');export{r as comp,u as data};
